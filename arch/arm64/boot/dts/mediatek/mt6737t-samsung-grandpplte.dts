// SPDX-License-Identifier: BSD-3-Clause
/*
 * Copyright (c) 2021, Yassine Oudjana <y.oudjana@protonmail.com>
 */

/dts-v1/;

#include "mt6735.dtsi"

/ {
	model = "Samsung Galaxy Grand Prime+";
	compatible = "samsung,grandpplte",
		     "mediatek,mt6737t",
		     "mediatek,mt6735";

	aliases {
		serial0 = &uart0;
	};

	chosen {
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		stdout-path = "serial0:115200n8";

		framebuffer: framebuffer@7f900000 {
			compatible = "simple-framebuffer";
			reg = <0 0x7f900000 0 ((540 + 4) * 960 * 4)>;
			width = <540>;
			height = <960>;
			/* Lines have 4 pixels of padding at the end */
			stride = <((540 + 4) * 4)>;
			format = "a8r8g8b8";
		};
	};

	memory@40000000 {
		device_type = "memory";
		reg = <0 0x40000000 0 0x5f530000>;
	};

	reserved-memory {
		ramoops@43f10000 {
			compatible = "ramoops";
			reg = <0 0x43f10000 0 0xe0000>;
		};

		/*
		 * Bootloader-configured framebuffer has 3 layers,
		 * the first of which is used by simple-framebuffer.
		 */
		fb_mem: memory@7f900000 {
			reg = <0 0x7f900000 0 (((540 + 4) * 960 * 4) * 3)>;
			no-map;
		};
	};
};

/*
 * UART accessible through USB micro-B port with 619k resistor
 * connected between ID and GND. TX on D+, RX on D-.
 */
&uart0 {
	status = "okay";
};

&usb2 {
	status = "okay";

	usb_con: connector {
		compatible = "usb-b-connector";
		type = "micro";
	};
};

&usb2phy {
	status = "okay";
};
